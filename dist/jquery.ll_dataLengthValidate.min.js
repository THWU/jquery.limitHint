!function(t){t.fn.LL_DataLengthValidate=function(a){var n=t.extend({trigger_tag:"data-len-validate",maxlen_tag:"data-maxlen",maxlen_bytes_tag:"data-maxlen-bytes",tip_position_tag:"data-tip-position"},a);if(e)e.find("p").text("");else var e=t("<div>").addClass("length-hint ll_dataLengthValidate").append(t("<p>").addClass("length-value"));t.fn.LL_DataLengthValidate_Init(n,e,this)},t.fn.LL_DataLengthValidate_Init=function(a,n,e){return e.each(function(){var e=t(this),i=!!e.attr(a.maxlen_bytes_tag);e.on("focus",function(){if(!e.attr("readonly")){var t=parseInt(i?e.attr(a.maxlen_bytes_tag):e.attr(a.maxlen_tag))-(i?bytesLength(e.val()):e.val().length);n.find("p.length-value").text(`剩餘 ${t} 個字`),t<0?e.attr("invalid","true"):e.attr("invalid","false"),e.parent().css({position:"relative"}),n.removeClass("position-left-top position-left-bottom position-right-top position-right-bottom"),n.addClass(`position-${e.attr(a.tip_position_tag)}`),e.attr(a.tip_position_tag).indexOf("top")>0?e.before(n):e.after(n),n.show()}}),e.on("focusout",function(){e.attr("readonly")||n.hide()}),e.on("keyup",function(){if(!e.attr("readonly")){var t=parseInt(i?e.attr(a.maxlen_bytes_tag):e.attr(a.maxlen_tag))-(i?bytesLength(e.val()):e.val().length);n.find("p.length-value").text(`剩餘 ${t} 個字`),t<0?e.attr("invalid","true"):e.attr("invalid","false")}})})}}(jQuery);