"use strict";!function(t){t.fn.LL_DataLengthValidate=function(a){var e=t.extend({trigger_tag:"data-len-validate",maxlen_tag:"data-maxlen",maxlen_bytes_tag:"data-maxlen-bytes",tip_position_tag:"data-tip-position"},a);if(n)n.find("p").text("");else var n=t("<div>").addClass("length-hint ll_dataLengthValidate").append(t("<p>").addClass("length-value"));t.fn.LL_DataLengthValidate_Init(e,n,this)},t.fn.LL_DataLengthValidate_Init=function(a,e,n){return n.each(function(){var n=t(this),i=!!n.attr(a.maxlen_bytes_tag);n.on("focus",function(){if(!n.attr("readonly")){var t=parseInt(i?n.attr(a.maxlen_bytes_tag):n.attr(a.maxlen_tag))-(i?bytesLength(n.val()):n.val().length);e.find("p.length-value").text("剩餘 "+t+" 個字"),t<0?n.attr("invalid","true"):n.attr("invalid","false"),n.parent().css({position:"relative"}),e.removeClass("position-left-top position-left-bottom position-right-top position-right-bottom"),e.addClass("position-"+n.attr(a.tip_position_tag)),n.attr(a.tip_position_tag).indexOf("top")>0?n.before(e):n.after(e),e.show()}}),n.on("focusout",function(){n.attr("readonly")||e.hide()}),n.on("keyup",function(){if(!n.attr("readonly")){var t=parseInt(i?n.attr(a.maxlen_bytes_tag):n.attr(a.maxlen_tag))-(i?bytesLength(n.val()):n.val().length);e.find("p.length-value").text("剩餘 "+t+" 個字"),t<0?n.attr("invalid","true"):n.attr("invalid","false")}})})}}(jQuery);